(window.webpackJsonp=window.webpackJsonp||[]).push([[152],{822:function(a,e,t){"use strict";t.r(e);var s=t(4),l=Object(s.a)({},(function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h4",{attrs:{id:"一、下载证书-找到对应的apache-所需的证书"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#一、下载证书-找到对应的apache-所需的证书"}},[a._v("#")]),a._v(" 一、下载证书 ，找到对应的Apache 所需的证书")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("1_root_bundle.crt     # 证书文件\n2_xxx.xxx.xxx.crt       # 证书文件\n3_xxx.xxx.xxx.key      # 私钥文件\n")])])]),t("h4",{attrs:{id:"二、创建所需文件夹-放入文件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#二、创建所需文件夹-放入文件"}},[a._v("#")]),a._v(" 二、创建所需文件夹，放入文件")]),a._v(" "),t("p",[a._v("在"),t("code",[a._v("/etc/apache2/")]),a._v("文件夹下新建"),t("code",[a._v("ssl")]),a._v(" 文件夹，将证书文件放入")]),a._v(" "),t("h4",{attrs:{id:"三、配置ssl证书"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#三、配置ssl证书"}},[a._v("#")]),a._v(" 三、配置SSL证书")]),a._v(" "),t("blockquote",[t("ol",[t("li",[a._v("软链接文件：我们要配置另 "),t("code",[a._v("ssl")]),a._v(" 证书，要依靠另一个文件，也就是"),t("code",[a._v("default-ssl.conf")]),a._v("，首先我们需要设置一个软链接，把这个文件链接到"),t("code",[a._v("sites-enabled")]),a._v("这个文件夹中:")])])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("   ln -s /etc/apache2/sites-available/default-ssl.conf /etc/apache2/sites-enabled/000-default-ssl.conf\n")])])]),t("blockquote",[t("ol",{attrs:{start:"2"}},[t("li",[a._v("打开 /etc/apache2/sites-available/default-ssl.conf 修改配置")])])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("   vim /etc/apache2/sites-available/default-ssl.conf\n")])])]),t("p",[a._v("步骤：")]),a._v(" "),t("ol",[t("li",[a._v('添加一行"ServerName 你的域名"\n位置如下：')])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("ServerAdmin webmaster@localhost\nDocumentRoot /var/www/html\n# 这下面的是添加的\nServerName baidu.com\n")])])]),t("ol",{attrs:{start:"2"}},[t("li",[a._v("添加证书路径")])]),a._v(" "),t("div",{staticClass:"language-SSLEngine on extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("SSLCertificateFile /etc/apache2/ssl/xxx.crt\nSSLCertificateKeyFile  /etc/apache2/ssl/xxxx.key\nSSLCertificateChainFile /etc/apache2/ssl/1_root_bundle.crt\n")])])]),t("ol",{attrs:{start:"3"}},[t("li",[t("p",[a._v("保存")])]),a._v(" "),t("li",[t("p",[a._v("配置HTTPS 强制跳转")])])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("vim /etc/apache2/sites-available/000-default.conf\n")])])]),t("blockquote",[t("p",[a._v("在<VirtualHost *:80>"),a._v("标签内随便一个地方加入以下三行`")])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("RewriteEngine on\nRewriteCond %{HTTPS} !=on\nRewriteRule ^(.*) https://%{SERVER_NAME}$1 [L,R]\n")])])]),t("blockquote",[t("p",[a._v("打开 /etc/apache2/apache2.conf")])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("vim /etc/apache2/apache2.conf\n")])])]),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("AllowOverride None\n改为->\nAllowOverride ALL\n")])])]),t("h4",{attrs:{id:"四、-重启生效"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#四、-重启生效"}},[a._v("#")]),a._v(" 四、 重启生效")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("sudo a2enmod rewrite ssl\nsudo /etc/init.d/apache2 restart\n")])])]),t("h4",{attrs:{id:"nginx配置ssl证书-类似非常简单"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#nginx配置ssl证书-类似非常简单"}},[a._v("#")]),a._v(" nginx配置SSL证书 （类似非常简单）")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("listen   443 ssl;  \nserver_name 域名;\nssl_certificate /etc/nginx/cert/XXX.crt\nssl_certificate_key /etc/nginx/cert/XXX.key\n\n")])])])])}),[],!1,null,null,null);e.default=l.exports}}]);